import{_ as te,g as ae,y as w,c as le,a as h,b as o,e,w as t,r as s,i as c,t as g,n as ne,f as S,E as d,z as T}from"./index-BGGP1xAb.js";const se={class:"admin-users-container"},oe={class:"page-header"},ie={class:"header-content"},ce={class:"header-icon"},de={class:"header-actions"},re={class:"content-section"},ue={class:"search-form"},pe={class:"card-header"},_e={class:"header-actions"},me={class:"user-cell"},fe={class:"pagination-wrapper"},ge={__name:"AdminUsers",setup(ve){const r=w({keyword:"",status:"",role:""}),p=w({currentPage:1,pageSize:20,total:0}),b=ae([{id:1,username:"admin",email:"admin@health.com",role:"super_admin",status:"active",loginTime:"2024-01-15 14:30",createdAt:"2024-01-01 10:00",avatar:""},{id:2,username:"zhangsan",email:"zhangsan@example.com",role:"user",status:"active",loginTime:"2024-01-15 13:20",createdAt:"2024-01-05 09:30",avatar:""},{id:3,username:"lisi",email:"lisi@example.com",role:"user",status:"disabled",loginTime:"2024-01-14 16:45",createdAt:"2024-01-03 14:20",avatar:""},{id:4,username:"wangwu",email:"wangwu@example.com",role:"admin",status:"pending",loginTime:"2024-01-15 12:10",createdAt:"2024-01-08 11:15",avatar:""}]);p.total=b.value.length;const V=n=>({super_admin:"danger",admin:"warning",user:"success"})[n]||"info",$=n=>({super_admin:"超级管理员",admin:"管理员",user:"普通用户"})[n]||"未知",U=n=>({active:"success",disabled:"danger",pending:"warning"})[n]||"info",M=n=>({active:"正常",disabled:"禁用",pending:"待审核"})[n]||"未知",B=()=>{d.success("搜索功能开发中...")},E=()=>{r.keyword="",r.status="",r.role="",d.success("已重置搜索条件")},A=()=>{d.success("导出功能开发中...")},D=()=>{d.success("数据已刷新")},P=n=>{d.info(`查看用户: ${n.username}`)},R=n=>{d.info(`编辑用户: ${n.username}`)},N=async n=>{const a=n.status==="active"?"禁用":"启用";try{await T.confirm(`确定要${a}用户 "${n.username}" 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),n.status=n.status==="active"?"disabled":"active",d.success(`用户已${a}`)}catch{}},F=async n=>{try{await T.confirm(`确定要删除用户 "${n.username}" 吗？此操作不可恢复！`,"警告",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"error"}),d.success("用户已删除")}catch{}},I=n=>{p.pageSize=n,d.success(`每页显示 ${n} 条`)},L=n=>{p.currentPage=n,d.success(`当前第 ${n} 页`)};return(n,a)=>{const y=s("User"),i=s("el-icon"),j=s("Plus"),u=s("el-button"),q=s("el-input"),f=s("el-col"),_=s("el-option"),x=s("el-select"),G=s("Search"),k=s("Refresh"),H=s("el-row"),C=s("el-card"),J=s("Download"),m=s("el-table-column"),K=s("el-avatar"),z=s("el-tag"),O=s("View"),Q=s("Edit"),W=s("Lock"),X=s("Unlock"),Y=s("Delete"),Z=s("el-table"),ee=s("el-pagination");return h(),le("div",se,[o("div",oe,[o("div",ie,[o("div",ce,[e(i,{size:"32",color:"#F56C6C"},{default:t(()=>[e(y)]),_:1})]),a[5]||(a[5]=o("div",{class:"header-text"},[o("h1",null,"用户管理"),o("p",null,"管理系统用户和权限设置")],-1))]),o("div",de,[e(u,{type:"primary",class:"add-btn"},{default:t(()=>[e(i,null,{default:t(()=>[e(j)]),_:1}),a[6]||(a[6]=c(" 添加用户 ",-1))]),_:1})])]),o("div",re,[e(C,{class:"search-card",shadow:"hover"},{default:t(()=>[o("div",ue,[e(H,{gutter:16},{default:t(()=>[e(f,{span:6},{default:t(()=>[e(q,{modelValue:r.keyword,"onUpdate:modelValue":a[0]||(a[0]=l=>r.keyword=l),placeholder:"搜索用户名、邮箱...","prefix-icon":"Search",clearable:""},null,8,["modelValue"])]),_:1}),e(f,{span:4},{default:t(()=>[e(x,{modelValue:r.status,"onUpdate:modelValue":a[1]||(a[1]=l=>r.status=l),placeholder:"用户状态",clearable:""},{default:t(()=>[e(_,{label:"全部",value:""}),e(_,{label:"正常",value:"active"}),e(_,{label:"禁用",value:"disabled"}),e(_,{label:"待审核",value:"pending"})]),_:1},8,["modelValue"])]),_:1}),e(f,{span:4},{default:t(()=>[e(x,{modelValue:r.role,"onUpdate:modelValue":a[2]||(a[2]=l=>r.role=l),placeholder:"用户角色",clearable:""},{default:t(()=>[e(_,{label:"全部",value:""}),e(_,{label:"普通用户",value:"user"}),e(_,{label:"管理员",value:"admin"}),e(_,{label:"超级管理员",value:"super_admin"})]),_:1},8,["modelValue"])]),_:1}),e(f,{span:4},{default:t(()=>[e(u,{type:"primary",onClick:B},{default:t(()=>[e(i,null,{default:t(()=>[e(G)]),_:1}),a[7]||(a[7]=c(" 搜索 ",-1))]),_:1}),e(u,{onClick:E},{default:t(()=>[e(i,null,{default:t(()=>[e(k)]),_:1}),a[8]||(a[8]=c(" 重置 ",-1))]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{class:"users-card",shadow:"hover"},{default:t(()=>[o("div",pe,[a[11]||(a[11]=o("h3",null,"用户列表",-1)),o("div",_e,[e(u,{type:"text",onClick:A},{default:t(()=>[e(i,null,{default:t(()=>[e(J)]),_:1}),a[9]||(a[9]=c(" 导出 ",-1))]),_:1}),e(u,{type:"text",onClick:D},{default:t(()=>[e(i,null,{default:t(()=>[e(k)]),_:1}),a[10]||(a[10]=c(" 刷新 ",-1))]),_:1})])]),e(Z,{data:b.value,stripe:"",class:"users-table"},{default:t(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"username",label:"用户名","min-width":"120"},{default:t(({row:l})=>[o("div",me,[e(K,{size:32,src:l.avatar},{default:t(()=>[e(i,null,{default:t(()=>[e(y)]),_:1})]),_:1},8,["src"]),o("span",null,g(l.username),1)])]),_:1}),e(m,{prop:"email",label:"邮箱","min-width":"180"}),e(m,{prop:"role",label:"角色",width:"120"},{default:t(({row:l})=>[e(z,{type:V(l.role),size:"small"},{default:t(()=>[c(g($(l.role)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"status",label:"状态",width:"100"},{default:t(({row:l})=>[e(z,{type:U(l.status),size:"small"},{default:t(()=>[c(g(M(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"loginTime",label:"最后登录",width:"160"}),e(m,{prop:"createdAt",label:"注册时间",width:"160"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:t(({row:l})=>[e(u,{type:"text",size:"small",onClick:v=>P(l)},{default:t(()=>[e(i,null,{default:t(()=>[e(O)]),_:1}),a[12]||(a[12]=c(" 查看 ",-1))]),_:1},8,["onClick"]),e(u,{type:"text",size:"small",onClick:v=>R(l)},{default:t(()=>[e(i,null,{default:t(()=>[e(Q)]),_:1}),a[13]||(a[13]=c(" 编辑 ",-1))]),_:1},8,["onClick"]),e(u,{type:"text",size:"small",class:ne({"danger-btn":l.status==="active"}),onClick:v=>N(l)},{default:t(()=>[l.status==="active"?(h(),S(i,{key:0},{default:t(()=>[e(W)]),_:1})):(h(),S(i,{key:1},{default:t(()=>[e(X)]),_:1})),c(" "+g(l.status==="active"?"禁用":"启用"),1)]),_:2},1032,["class","onClick"]),e(u,{type:"text",size:"small",class:"danger-btn",onClick:v=>F(l)},{default:t(()=>[e(i,null,{default:t(()=>[e(Y)]),_:1}),a[14]||(a[14]=c(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),o("div",fe,[e(ee,{"current-page":p.currentPage,"onUpdate:currentPage":a[3]||(a[3]=l=>p.currentPage=l),"page-size":p.pageSize,"onUpdate:pageSize":a[4]||(a[4]=l=>p.pageSize=l),"page-sizes":[10,20,50,100],total:p.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:I,onCurrentChange:L},null,8,["current-page","page-size","total"])])]),_:1})])])}}},be=te(ge,[["__scopeId","data-v-5fd09064"]]);export{be as default};
